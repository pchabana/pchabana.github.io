function splitTitle(n){const t=n.split(" "),i=t.length,r=Math.round(i/2),u=t.slice(0,r).join(" "),f=t.slice(r).join(" ");return i===1?[n,""]:[u,f]}function addToCart(n,t,i=1,r=false){let u=getCart(),f=!1;const e=u.items.findIndex(t=>t.productId===n);return e!==-1?r?(u.items.splice(e,1),f=!0):u.items[e]={productId:n,qty:i}:u.items.push({productId:n,qty:i.toString()}),addStorage("cart",u),updateCartQty(),f?swal(t,"¡Fue eliminado de la carta!","error"):swal(t,"¡Fue adicionado a la carta!","success"),f}function ToSlug(n){if(!n)return"";let t=n.toLowerCase();return t=t.replace(/[^a-z0-9\s-]/g,""),t=t.replace(/ /g,"-"),t=t.replace(/-+/g,"-"),t=t.replace(/^-+/,"").replace(/-+$/,""),t.length>50&&(t=t.substring(0,50)),t}function spanishFormat(n){const t={"á":String.fromCharCode(225),"é":String.fromCharCode(233),"í":String.fromCharCode(237),"ó":String.fromCharCode(243),"ú":String.fromCharCode(250),"ñ":String.fromCharCode(241),"Á":String.fromCharCode(193),"É":String.fromCharCode(201),"Í":String.fromCharCode(205),"Ó":String.fromCharCode(211),"Ú":String.fromCharCode(218),"Ñ":String.fromCharCode(209)};for(const i in t)n=n.replace(new RegExp(i,"g"),t[i]);return n}function normalizeText(n){return n&&n.trim().length>0?(n=toEnglish(n),n=n.replace(/[^\w-]/g,"_"),n.toLowerCase()):""}function toEnglish(n){var t={"á":"a","é":"e","í":"i","ó":"o","ú":"u","ü":"u","ñ":"n","Á":"A","É":"E","Í":"I","Ó":"O","Ú":"U","Ü":"U","Ñ":"N"};return n.replace(/[áéíóúüñÁÉÍÓÚÜÑ]/g,function(n){return t[n]})}function getFilterValues(n,t){var r=n.split(" "),u=r.filter(function(n){return n.startsWith(t)}),i=u.map(function(n){let t=n.split("-");return t=t.slice(1),t.join("-")});return i.length>0?i:[]}function addProductCardBase(n,t,i=""){let s=document.createElement("div");if(s.setAttribute("class","col-sm-6 col-md-4 col-lg-3 p-b-60 isotope-item"+i),i!=null&&i.length>0){s.setAttribute("data-price",t.Price);var p=new Date(t.Update),w=p.getTime();s.setAttribute("data-update",w)}let o=document.createElement("div"),c="block2";t.Not1!=null&&t.Not1.length>0?(c+=" not1",o.setAttribute("data-not1",t.Not1)):(c+=" not1",o.setAttribute("data-not1","a Estrenar"));t.Not2!=null&&t.Not2.length>0&&(c+=" not2",o.setAttribute("data-not2",t.Not2));o.setAttribute("class",c);const h=ToSlug(t.Label);let r=document.createElement("a");r.setAttribute("class","stext-104 cl3 hov-cl1 trans-04 js-name-b2");r.setAttribute("href","product.html?id="+h);let f=document.createElement("div");f.setAttribute("class","block2-pic hov-img0");let l=document.createElement("img");l.setAttribute("data-src","./images/products/"+h+"-0.webp");l.setAttribute("alt","imágen");f.appendChild(l);r.appendChild(f);o.appendChild(r);f=document.createElement("div");f.setAttribute("class","block2-txt flex-w flex-t p-t-14");let u=document.createElement("div");u.setAttribute("class","block2-txt-child1 flex-col-l ");r=document.createElement("a");r.setAttribute("class","stext-104 cl3 hov-cl1 trans-04 js-name-b2");r.setAttribute("href","product.html?id="+h);r.textContent=spanishFormat(t.Label);u.appendChild(r);let v="";t.Features!=null&&(v=spanishFormat(t.Features.join(", ")));let e=document.createElement("span");e.setAttribute("class","cl4 stext-111");e.textContent=v;u.appendChild(e);e=document.createElement("span");e.setAttribute("class","stext-105 cl2  p-t-6");e.setAttribute("style","font-weight: bold;font-size: 20px;");let b=t.Price.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0});e.textContent=b;u.appendChild(e);f.appendChild(u);u=document.createElement("div");u.setAttribute("class","block2-txt-child2 flex-r p-t-3");let y=inCart(h),k=y?"cl1":"cl4";r=document.createElement("a");r.setAttribute("class","btn-addwish-b2 dis-block pos-relative js-addcart icon-add-cart hov-cl1 trans-04 "+k);r.setAttribute("href","#");let a=document.createElement("i");a.setAttribute("class",y?"zmdi zmdi-shopping-cart":"zmdi zmdi-shopping-cart-plus");a.setAttribute("style","vertical-align: top;");r.appendChild(a);u.appendChild(r);f.appendChild(u);o.appendChild(f);s.appendChild(o);n.append(s);$(r).each(function(){var n=$(this).parent().parent().find(".js-name-b2").html();$(this).on("click",function(t){t.preventDefault();let i=addToCart(h,n,1,!0);updateAddCartIcon($(this),!i);updateCartQty()})})}function getStorage(n){let t=localStorage.getItem(n);return t!=null&&t.length>0?JSON.parse(t):null}function addStorage(n,t){let i=JSON.stringify(t);localStorage.setItem(n,i)}function updateCartQty(){let n=getStorage("cart"),t=0;n!=null&&n.items!=null&&n.items.length>0&&(t=n.items.reduce((n,t)=>n+parseInt(t.qty,10),0));$(".js-show-cart").each(function(){$(this).attr("data-notify",t)})}function getCart(){let n=getStorage("cart");return n==null?n={items:[]}:n.items==null&&(n.items=[]),n.items=n.items.filter(n=>typeof n.productId=="string"&&typeof n.qty=="string"),n}function inCart(n){let t=getCart();const i=t.items.findIndex(t=>t.productId===n);return i!==-1}function updateAddCartIcons(){$(".btn-addwish-b2,js-addcart").each(function(){let n=$(this).parent().parent().find(".js-name-b2").html(),t=ToSlug(n),i=inCart(t);updateAddCartIcon($(this),i)})}function updateAddCartIcon(n,t){let i=n.find(".zmdi");t?(i.removeClass("zmdi-shopping-cart-plus"),i.addClass("zmdi-shopping-cart"),n.removeClass("cl4"),n.addClass("cl1")):(i.removeClass("zmdi-shopping-cart"),i.addClass("zmdi-shopping-cart-plus"),n.removeClass("cl1"),n.addClass("cl4"))}function toMoneyStr(n){return n==null&&(n=0),n.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}var contactCell="",contactEmail="",currency="USD";(function(n){n(".animsition").animsition({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"html",loadingClass:"animsition-loading-1",loadingInner:'<div class="loader05"><\/div>',timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"html",transition:function(n){window.location.href=n}});n(".js-addcart-detail").each(function(){n(this).on("click",function(t){t.preventDefault();let i=n(this).attr("product-id");if(i!=null){let r=1,u=n(this).parent().find('[name="num-product"]');u!=null&&(r=u.val());addToCart(i,n(this).attr("product-label"),r)}})});n(".js-show-cart").click(function(){window.location.replace("./cart.html")});window.addEventListener("storage",function(n){n.key==="cart"&&(updateCartQty(),updateAddCartIcons())});n.getJSON("./data/manifest.json",function(t){if(t!=null){let i=splitTitle(t.Title.toUpperCase());n(".storet1").text(i[0]);n(".storet2").text(i[1]);contactCell=t.Cell;contactEmail=t.Email;currency=t.Currency;n(".currency").text(currency);n(".headnotification").text(t.HeadNotification);n(".foot").text(t.Foot);n(".paymethod").html(t.CartPayMethod.replace(/\n/g,"<br>"));n(".shipping").html(t.CartShipping.replace(/\n/g,"<br>"));const r=document.styleSheets;for(let n=0;n<r.length;n++){const i=r[n],u=i.cssRules||i.rules;for(let n=0;n<u.length;n++){const i=u[n];i.style&&i.style.backgroundColor==="rgb(34, 34, 34)"&&(i.style.backgroundColor="rgb("+t.BackgroundColor+")")}}}});updateCartQty()})(jQuery)